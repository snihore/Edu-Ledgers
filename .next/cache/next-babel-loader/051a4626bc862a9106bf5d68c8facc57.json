{"ast":null,"code":"import Web3 from 'web3';\n\nconst makeProvider = () => {\n  const provider = new Web3.providers.HttpProvider('https://rinkeby.infura.io/v3/744d8f9fc55945a59ad5c13651c25d51');\n  return provider;\n};\n\nclass GetMetamaskProvider {\n  constructor() {\n    if (window) {\n      if (window.ethereum) {\n        this.web3 = new Web3(window.ethereum);\n      } else if (window.web3) {\n        this.web3 = new Web3(window.web3.currentProvider);\n      } else {\n        this.web3 = new Web3(makeProvider);\n      }\n    } else {\n      this.web3 = new Web3(makeProvider);\n    }\n  }\n\n  async enable() {\n    if (window) {\n      if (window.ethereum) {\n        window.ethereum.autoRefreshOnNetworkChange = false;\n        await window.ethereum.enable();\n        console.log(`TAG_web3JS: window.ethereum`);\n        return this.web3;\n      } else {\n        console.log(`TAG_web3JS: window.web3.currentProvider`);\n        return this.web3;\n      }\n    } else {\n      return this.web3;\n    }\n  }\n\n}\n\nexport default GetMetamaskProvider;","map":{"version":3,"sources":["G:/Ethereum-Projects/edu-ledger/web3.js"],"names":["Web3","makeProvider","provider","providers","HttpProvider","GetMetamaskProvider","constructor","window","ethereum","web3","currentProvider","enable","autoRefreshOnNetworkChange","console","log"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,MAAjB;;AAEA,MAAMC,YAAY,GAAG,MAAI;AACrB,QAAMC,QAAQ,GAAG,IAAIF,IAAI,CAACG,SAAL,CAAeC,YAAnB,CACb,+DADa,CAAjB;AAIA,SAAOF,QAAP;AACH,CAND;;AAQA,MAAMG,mBAAN,CAAyB;AAErBC,EAAAA,WAAW,GAAE;AACT,QAAGC,MAAH,EAAU;AACN,UAAGA,MAAM,CAACC,QAAV,EAAmB;AACf,aAAKC,IAAL,GAAY,IAAIT,IAAJ,CAASO,MAAM,CAACC,QAAhB,CAAZ;AACH,OAFD,MAEM,IAAGD,MAAM,CAACE,IAAV,EAAe;AACjB,aAAKA,IAAL,GAAY,IAAIT,IAAJ,CAASO,MAAM,CAACE,IAAP,CAAYC,eAArB,CAAZ;AACH,OAFK,MAED;AACD,aAAKD,IAAL,GAAY,IAAIT,IAAJ,CAASC,YAAT,CAAZ;AACH;AACJ,KARD,MAQK;AACD,WAAKQ,IAAL,GAAY,IAAIT,IAAJ,CAASC,YAAT,CAAZ;AACH;AACJ;;AAED,QAAMU,MAAN,GAAc;AAEV,QAAGJ,MAAH,EAAU;AACN,UAAGA,MAAM,CAACC,QAAV,EAAmB;AACfD,QAAAA,MAAM,CAACC,QAAP,CAAgBI,0BAAhB,GAA6C,KAA7C;AACA,cAAML,MAAM,CAACC,QAAP,CAAgBG,MAAhB,EAAN;AACAE,QAAAA,OAAO,CAACC,GAAR,CAAa,6BAAb;AACA,eAAO,KAAKL,IAAZ;AACH,OALD,MAKK;AACDI,QAAAA,OAAO,CAACC,GAAR,CAAa,yCAAb;AACA,eAAO,KAAKL,IAAZ;AACH;AACJ,KAVD,MAUK;AACD,aAAO,KAAKA,IAAZ;AACH;AACJ;;AA/BoB;;AAkCzB,eAAeJ,mBAAf","sourcesContent":["import Web3 from 'web3';\r\n\r\nconst makeProvider = ()=>{\r\n    const provider = new Web3.providers.HttpProvider(\r\n        'https://rinkeby.infura.io/v3/744d8f9fc55945a59ad5c13651c25d51'\r\n    );\r\n\r\n    return provider;\r\n}\r\n\r\nclass GetMetamaskProvider{\r\n\r\n    constructor(){\r\n        if(window){\r\n            if(window.ethereum){\r\n                this.web3 = new Web3(window.ethereum);\r\n            }else if(window.web3){\r\n                this.web3 = new Web3(window.web3.currentProvider);\r\n            }else{\r\n                this.web3 = new Web3(makeProvider);\r\n            }\r\n        }else{\r\n            this.web3 = new Web3(makeProvider);\r\n        }\r\n    }\r\n\r\n    async enable(){\r\n\r\n        if(window){\r\n            if(window.ethereum){\r\n                window.ethereum.autoRefreshOnNetworkChange = false;\r\n                await window.ethereum.enable();\r\n                console.log(`TAG_web3JS: window.ethereum`);\r\n                return this.web3;\r\n            }else{\r\n                console.log(`TAG_web3JS: window.web3.currentProvider`);\r\n                return this.web3;\r\n            }\r\n        }else{\r\n            return this.web3;\r\n        }\r\n    }\r\n}\r\n\r\nexport default GetMetamaskProvider;"]},"metadata":{},"sourceType":"module"}